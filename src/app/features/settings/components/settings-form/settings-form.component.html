<section>

  <form
    class="border shadow-200 rounded-xl min-w-[40rem] min-h-[20rem] bg-white"
    [formGroup]="settingsForm"
    (ngSubmit)="createSettings()"
  >
    <div class="flex flex-col items-center my-4 gap-4">
      <mat-form-field>
        <mat-label>Dias</mat-label>
        <mat-select formControlName="days" multiple>
          <mat-select-trigger>
            {{ settingsForm.get("days")?.value?.[0] || "" }}
            @if ((settingsForm.get("days")?.value?.length || 0) > 1) {
              <span class="example-additional-selection">
              (+{{ (settingsForm.get("days")?.value?.length || 0) - 1 }}
                {{
                  settingsForm.get("days")?.value?.length === 2
                    ? "other"
                    : "others"
                }})
            </span>
            }
          </mat-select-trigger>
          @for (day of daysList; track day) {
            <mat-option [value]="day">{{ day }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <div class="flex w-56">
        <input
          appInput
          type="number"
          label="Cantidad de clientes"
          placeholder="Ingrese la cantidad de clientes"
          formControlName="maxCount"
        />
      </div>
      <div class="flex w-56">
        <mat-form-field>
          <mat-label>Horarios de Atencion</mat-label>
          <mat-select formControlName="hours" multiple>
            <mat-select-trigger>
              {{ settingsForm.get("hours")?.value?.[0] || "" }}
              @if ((settingsForm.get("hours")?.value?.length || 0) > 1) {
                <span class="example-additional-selection">
                  (+{{ (settingsForm.get("hours")?.value?.length || 0) - 1 }}
                  {{
                    settingsForm.get("hours")?.value?.length === 2
                      ? "other"
                      : "others"
                  }})
                </span>
              }
            </mat-select-trigger>
            @for (hour of hoursList; track hour) {
              <mat-option [value]="hour">{{ hour }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
      <div class="flex flex-col items-center space-y-4 w-32">
        <button
          appBtn
          [loader]="(loading$ | async)!"
          [animate]="true"
          [disabled]="settingsForm.invalid || (loading$ | async)"
          class="w-full btn-primary"
          type="submit"
        >
        <span>
          {{
            loading$ | async | conditionalText: "Cargando..." : "Enviar"
          }}</span
        >
        </button>
      </div>
    </div>
  </form>
</section>
